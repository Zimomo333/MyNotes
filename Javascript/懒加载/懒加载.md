## 获取页面尺寸

### document.documentElement 返回文档对象(document)的根元素的只读属性（如 HTML 文档的 html 元素）

clientWidth：获取对象的宽度（width + padding）
clientHeight：获取对象的高度（height + padding）
offsetWidth：获取对象的宽度（width + padding + border）
**offsetHeight ：获取对象的高度（height + padding + border）**

scrollWidth：获取对象的最大可滚动宽度
scrollHeight：获取对象的最大可滚动高度
scrollLeft：设置或获取位于对象左边界和窗口中可见内容的最左端之间的距离
**scrollTop：设置或获取位于对象最顶端和窗口中可见内容的最顶端之间的距离**

window.screenTop：返回浏览器窗口相对于屏幕的 Y 坐标
window.screenLeft：返回浏览器窗口相对于屏幕的 X 坐标
window.screen.height：屏幕分辨率的高
window.screen.width：屏幕分辨率的宽

**window.innerHeight：浏览器窗口的视口（viewport）高度（以像素为单位）；如果有水平滚动条，也包括滚动条高度**



```javascript
// onload是等所有的资源文件加载完毕以后再绑定事件
window.onload = function(){
	// 获取图片列表，即img标签列表
	var imgs = document.querySelectorAll('img');

	// 获取到浏览器顶部的距离
	function getTop(e){
		return e.offsetTop;
	}

	// 懒加载实现
	function lazyload(imgs){
		// 可视区域高度
		var h = window.innerHeight;
		//滚动区域高度
		var s = document.documentElement.scrollTop || document.body.scrollTop;
		for(var i=0;i<imgs.length;i++){
			//图片距离顶部的距离小于可视区域和滚动区域之和时懒加载
			if ((h+s)>getTop(imgs[i])) {
				// 真实情况是页面开始有2秒空白，所以使用setTimeout定时2s
				(function(i){
					setTimeout(function(){
						// 不加立即执行函数i会等于9
						// 隐形加载图片或其他资源，
						//创建一个临时图片，这个图片在内存中不会到页面上去。实现隐形加载
						var temp = new Image();
						temp.src = imgs[i].getAttribute('data-src');//只会请求一次
						// onload判断图片加载完毕，真是图片加载完毕，再赋值给dom节点
						temp.onload = function(){
							// 获取自定义属性data-src，用真图片替换假图片
							imgs[i].src = imgs[i].getAttribute('data-src')
						}
					},2000)
				})(i)
			}
		}
	}
	lazyload(imgs);

	// 滚屏函数
	window.onscroll =function(){
		lazyload(imgs);
	}
}
```

